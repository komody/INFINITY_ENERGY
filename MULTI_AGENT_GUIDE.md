# マルチエージェント開発ガイド

このプロジェクトでのマルチエージェント機能の効果的な活用方法をまとめます。

## 🎯 マルチエージェントとは

Cursorのマルチエージェント機能を使うと、複数のAIエージェントが並行して異なるタスクを実行できます。これにより、開発速度が大幅に向上します。

## 📋 このプロジェクトでの活用シナリオ

### 1. **フロントエンドの並行開発**

#### シナリオA: コンポーネント開発の並行化
- **エージェント1**: Three.jsの3Dシーン最適化（`three-scene.js`の改善）
- **エージェント2**: レスポンシブCSSの改善（`style.scss`のメディアクエリ最適化）
- **エージェント3**: モバイル対応のJavaScript実装

**実装例:**
```
エージェント1に依頼: "three-scene.jsのパフォーマンスを最適化して、FPSを向上させて"
エージェント2に依頼: "style.scssのメディアクエリを整理して、一貫性のあるブレークポイントに統一して"
エージェント3に依頼: "モバイルデバイスでのタッチ操作を追加して"
```

### 2. **バグ修正の並行実行**

#### シナリオB: 複数の問題を同時に解決
- **エージェント1**: CSSのレイアウトバグ修正（`.kv_flex`の配置問題）
- **エージェント2**: JavaScriptのエラーハンドリング追加
- **エージェント3**: パフォーマンスプロファイリングと最適化

**実装例:**
```
エージェント1に依頼: "kv_flexのレスポンシブ時のレイアウト崩れを修正して"
エージェント2に依頼: "three-scene.jsにエラーハンドリングとローディング状態を追加して"
エージェント3に依頼: "ページの読み込み速度を測定して、ボトルネックを特定して"
```

### 3. **機能追加の並行開発**

#### シナリオC: 新機能の同時実装
- **エージェント1**: アニメーション効果の追加
- **エージェント2**: アクセシビリティ機能の実装（ARIA属性など）
- **エージェント3**: パフォーマンス監視機能の追加

**実装例:**
```
エージェント1に依頼: "3Dモデルにホバーエフェクトとスムーズなアニメーションを追加して"
エージェント2に依頼: "HTMLに適切なARIA属性とセマンティックHTMLを追加して"
エージェント3に依頼: "Web Vitalsを測定するコードを追加して"
```

### 4. **リファクタリングの並行実行**

#### シナリオD: コード品質の向上
- **エージェント1**: JavaScriptコードのリファクタリング（`three-scene*.js`ファイル）
- **エージェント2**: SCSSの変数化とモジュール化
- **エージェント3**: HTMLのセマンティック化とメタタグ最適化

**実装例:**
```
エージェント1に依頼: "three-scene.jsをクラスベースの構造にリファクタリングして、再利用性を向上させて"
エージェント2に依頼: "style.scssに変数（色、フォントサイズ、ブレークポイント）を定義して、CSSを整理して"
エージェント3に依頼: "index.htmlにSEO最適化のメタタグを追加して、構造化データを実装して"
```

### 5. **テストとドキュメントの並行作成**

#### シナリオE: 品質保証の並行化
- **エージェント1**: ユニットテストの作成
- **エージェント2**: ドキュメントの作成（README、API仕様）
- **エージェント3**: ブラウザ互換性テストの実装

## 🚀 実践的な使い方

### ステップ1: タスクの分解
大きなタスクを小さな独立したタスクに分解します。

**例:**
- タスク: "サイト全体の最適化"
  - 分解1: "JavaScriptの最適化"
  - 分解2: "CSSの最適化"
  - 分解3: "画像の最適化"

### ステップ2: エージェントへの割り当て
各エージェントに明確で具体的な指示を与えます。

**良い例:**
```
エージェント1: "three-scene.jsのレンダリングループを最適化して、requestAnimationFrameの使用を確認し、不要な再描画を削減してください"
```

**悪い例:**
```
エージェント1: "コードを改善して"
```

### ステップ3: 依存関係の管理
エージェント間で共有する情報（API仕様、命名規則など）を事前に定義します。

### ステップ4: 結果の統合
各エージェントの成果物をレビューし、統合します。

## 💡 このプロジェクトでの具体的な推奨事項

### 現在のプロジェクト構造に基づく推奨ワークフロー:

1. **初期開発フェーズ**
   - エージェント1: Three.jsシーンの実装
   - エージェント2: レスポンシブデザインの実装
   - エージェント3: パフォーマンス最適化

2. **最適化フェーズ**
   - エージェント1: JavaScriptのバンドルサイズ最適化
   - エージェント2: CSSの最適化と未使用スタイルの削除
   - エージェント3: 画像の最適化とWebP対応

3. **品質向上フェーズ**
   - エージェント1: エラーハンドリングの追加
   - エージェント2: アクセシビリティ対応
   - エージェント3: SEO対策

## ⚠️ 注意事項

1. **競合の回避**: 複数のエージェントが同じファイルを同時に編集しないよう注意
2. **一貫性の維持**: コーディング規約や命名規則を統一
3. **コミュニケーション**: エージェント間で共有すべき情報を明確に

## 🎓 ベストプラクティス

1. **明確な責任範囲**: 各エージェントに明確な役割を割り当てる
2. **段階的な実装**: 一度に全てを並行せず、段階的に進める
3. **定期的なレビュー**: エージェントの成果物を定期的にレビューする
4. **ドキュメント化**: 変更内容を記録し、後で参照できるようにする

## 📝 次のステップ

マルチエージェントを試すには:
1. CursorでComposerを開く
2. 複数のタスクを明確に定義する
3. 各タスクを別々のエージェントに割り当てる
4. 並行して実行する

現在のプロジェクトで試すと良いタスク例:
- "three-scene.jsをパターンA/B/Cで統一した構造にリファクタリング"
- "style.scssのメディアクエリを整理"
- "index.htmlにSEOメタタグを追加"

